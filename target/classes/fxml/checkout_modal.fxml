<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox prefWidth="480.0" spacing="15.0" style="-fx-padding: 20; -fx-background-color: white;" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.pos.system.controllers.CheckoutController">
    <Label text="%checkout.title" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
    
    <GridPane hgap="10" vgap="10">
        <Label text="%checkout.subtotal" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
        <Label fx:id="subtotalLabel" text="0.00" GridPane.rowIndex="0" GridPane.columnIndex="1"/>
        
        <Label text="%checkout.discount" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
        <TextField fx:id="discountField" text="0" GridPane.rowIndex="1" GridPane.columnIndex="1" prefWidth="100"/>
        
        <Label text="%checkout.tax" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
        <TextField fx:id="taxField" text="0" GridPane.rowIndex="2" GridPane.columnIndex="1" prefWidth="100"/>
        
        <Label text="%checkout.totalToPay" style="-fx-font-weight: bold; -fx-font-size: 16px;" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
        <Label fx:id="totalLabel" text="0.00" style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #2980b9;" GridPane.rowIndex="3" GridPane.columnIndex="1"/>
    </GridPane>
    <Separator/>
    <Label text="%checkout.payments" style="-fx-font-weight: bold;"/>
    <HBox spacing="10">
        <ComboBox fx:id="paymentMethodCombo" promptText="%checkout.method"/>
        <TextField fx:id="paymentAmountField" promptText="%checkout.amount" prefWidth="120"/>
        <Button fx:id="addPaymentButton" text="%checkout.addBtn" onAction="#handleAddPayment" styleClass="btn-primary"/>
    </HBox>
    <TableView fx:id="paymentsTable" prefHeight="150" VBox.vgrow="ALWAYS">
        <columns>
            <TableColumn fx:id="pmMethodCol" text="%checkout.method" prefWidth="180"/>
            <TableColumn fx:id="pmAmountCol" text="%checkout.amount" prefWidth="150"/>
            <TableColumn fx:id="pmActionCol" text="" prefWidth="90"/>
        </columns>
    </TableView>
    
    <HBox alignment="CENTER_RIGHT" spacing="10">
        <Label text="%checkout.remaining" style="-fx-font-size: 16px;"/>
        <Label fx:id="remainingLabel" text="0.00" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
    </HBox>
    <HBox alignment="CENTER_RIGHT" spacing="10">
        <Label text="%checkout.change" style="-fx-font-size: 16px;"/>
        <Label fx:id="changeLabel" text="0.00" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: green;"/>
    </HBox>
    
    <Label fx:id="errorLabel" textFill="RED" wrapText="true"/>

    <HBox alignment="CENTER_RIGHT" spacing="10" style="-fx-padding: 10 0 0 0;">
        <Button text="%checkout.cancelBtn" onAction="#handleCancel" styleClass="btn-secondary"/>
        <Button fx:id="confirmButton" text="%checkout.confirmBtn" onAction="#handleConfirm" styleClass="btn-success" disable="true"/>
    </HBox>
</VBox>
